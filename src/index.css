@tailwind base;
@tailwind components;
@tailwind utilities;

/* Prevent white background on scroll bounce (mobile) */
html,
body {
  background-color: var(--color-bg-primary, #2c3440);
  overscroll-behavior: none;
}

#root {
  background-color: var(--color-bg-primary, #2c3440);
  min-height: 100vh;
}

/* Remove all default focus outlines and rings */
*:focus,
*:focus-visible,
*:active,
button:focus,
button:focus-visible,
button:active {
  outline: none !important;
  outline-width: 0 !important;
  outline-style: none !important;
  outline-color: transparent !important;
  box-shadow: none !important;
  -webkit-tap-highlight-color: transparent !important;
}

button {
  -webkit-tap-highlight-color: transparent;
  outline: none;
}

button::-moz-focus-inner {
  border: 0;
}

/* Theme CSS Variables */
:root[data-theme="default"] {
  --color-bg-primary: #2c3440;
  --color-bg-secondary: #3a4450;
  --color-bg-tertiary: #424d5a;
  --color-bg-darker: #252b36;
  --color-bg-darkest: #1f2833;
  --color-border: #4a5560;
  --color-border-light: rgba(74, 85, 96, 0.5);
  --color-text-primary: #e5e7eb;
  --color-text-secondary: #9ca3af;
  --color-text-tertiary: #6b7280;
  --color-accent: #6366F1;
  --color-accent-hover: #5b5bf5;
}

:root[data-theme="darker"] {
  --color-bg-primary: #0f1419;
  --color-bg-secondary: #1a1f26;
  --color-bg-tertiary: #252930;
  --color-bg-darker: #0a0e13;
  --color-bg-darkest: #050709;
  --color-border: #2d3339;
  --color-border-light: rgba(45, 51, 57, 0.5);
  --color-text-primary: #e5e7eb;
  --color-text-secondary: #9ca3af;
  --color-text-tertiary: #6b7280;
  --color-accent: #6366F1;
  --color-accent-hover: #5b5bf5;
}

/* React Flow dark theme styling */
.react-flow__controls {
  background: var(--color-bg-secondary) !important;
  border: 1px solid var(--color-border) !important;
  border-radius: 8px !important;
}

.react-flow__controls-button {
  background: var(--color-bg-secondary) !important;
  border-bottom: 1px solid var(--color-border) !important;
  color: var(--color-text-secondary) !important;
  fill: var(--color-text-secondary) !important;
}

.react-flow__controls-button:hover {
  background: var(--color-bg-primary) !important;
  color: #ffffff !important;
  fill: #ffffff !important;
}

.react-flow__controls-button:active {
  background: var(--color-bg-primary) !important;
}

.react-flow__minimap {
  background: var(--color-bg-secondary) !important;
  border: 1px solid var(--color-border) !important;
  border-radius: 8px !important;
}

.react-flow__minimap-mask {
  fill: var(--color-bg-primary) !important;
  opacity: 0.6;
}

.react-flow__minimap-node {
  fill: #e8935f !important;
  stroke: var(--color-bg-secondary) !important;
}

/* Hide scrollbar utility */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* React Flow node styling - remove wrapper backgrounds and borders */
.react-flow__node {
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

.react-flow__node-default {
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

.react-flow__node-wrapper {
  background: transparent !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Target any direct children that React Flow might add */
.react-flow__node > div:not([class*="relative"]) {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  background: transparent !important;
}
